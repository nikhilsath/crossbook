{# templates/macros/filter_controls.html #}
{% macro text_filter(field, value, operator) %}
  {# Wrapper to group operator and input as a single chip-like control #}
  <div class="filter-chip flex items-center space-x-2 bg-gray-100 rounded-full px-3 py-1 border border-gray-300">
    <select
      name="{{ field }}_op"
      class="operator-select appearance-none text-xs rounded-full border-0 bg-transparent text-center w-6"
      title="Operator"
    >
      <option value="contains"    {% if operator=='contains'    %}selected{% endif %}>*</option>
      <option value="equals"      {% if operator=='equals'      %}selected{% endif %}>=</option>
      <option value="starts_with" {% if operator=='starts_with' %}selected{% endif %}>__*</option>
      <option value="ends_with"   {% if operator=='ends_with'   %}selected{% endif %}>*__</option>
    </select>
    <input
      type="text"
      id="filter-{{ field }}"
      name="{{ field }}"
      value="{{ value }}"
      placeholder="{{ field | replace('_',' ') | capitalize }}"
      class="bg-transparent focus:outline-none text-sm"
    />
  </div>
{% endmacro %}
